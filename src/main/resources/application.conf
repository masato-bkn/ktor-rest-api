# Ktor サーバー設定ファイル (HOCON形式)
# EngineMain が起動時にこのファイルを読み込む
ktor {
    deployment {
        # サーバーのリッスンポート（環境変数 PORT でも上書き可能）
        port = 8080
    }
    application {
        # 起動時にロードするモジュール
        # Application.kt の module() 拡張関数を指定している
        # 注意: testApplication はこの設定を自動で読み込むため、
        #       テスト内で module() を重複呼び出ししないこと
        modules = [ com.example.ApplicationKt.module ]
    }
}

# PostgreSQL 接続設定
# 環境変数で上書き可能（本番デプロイ時に使用）
database {
    url = "jdbc:postgresql://localhost:5432/ktor_rest_api"
    url = ${?DATABASE_URL}
    driver = "org.postgresql.Driver"
    user = "postgres"
    user = ${?DATABASE_USER}
    password = "postgres"
    password = ${?DATABASE_PASSWORD}
}
